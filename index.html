<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles/main.css">

    <title>Calculator app</title>
    <!-- Vue.js CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style>
      


    </style>
</head>
<body onload="checkUserTheme()">
<!-- <body> -->
  <div id="app">


    <main>
      <div class="calculator-container">
        <!-- calculator top starts here -->
        <div class="calculator-top">
          <h2 class="heading-text">calc</h2>

          <div class="right">
            <p class="theme-text">THEME</p>

            <div class="toggle-container">
              <div class="toggle-number-con">
                <span>1</span>
                <span>2</span>
                <span>3</span>
              </div>
              <div class="toggle">
                <div class="toggle-btn-con">
                  <button type="button" onclick="setTheme('dark')"></button>
                  <button type="button" onclick="setTheme('light')"></button>
                  <button type="button" onclick="setTheme('purple')"></button>
                </div>
                
                <span class="indicator"></span>
              </div>
            </div>
          </div>
        </div>
        <!-- calculator top ends here -->

        <!-- calculator output starts here -->
        <div class="calculator-screen">
          <p class="calculator-screen-text">399,981</p>
        </div>
        <!-- calculator output ends here -->
        
        <!-- calculator keypad starts here -->
        <div class="calculator-keypad">
          <button type="button" class="key key-3"><span>7</span></button>
          <button type="button" class="key key-3"><span>8</span></button>
          <button type="button" class="key key-3"><span>9</span></button>
          <button type="button" class="key key-1"><span>DEL</span></button>

          <button type="button" class="key key-3"><span>4</span></button>
          <button type="button" class="key key-3"><span>5</span></button>
          <button type="button" class="key key-3"><span>6</span></button>
          <button type="button" class="key key-3"><span>+</span></button>

          <button type="button" class="key key-3"><span>1</span></button>
          <button type="button" class="key key-3"><span>2</span></button>
          <button type="button" class="key key-3"><span>3</span></button>
          <button type="button" class="key key-3"><span>-</span></button>

          <button type="button" class="key key-3"><span>.</span></button>
          <button type="button" class="key key-3"><span>0</span></button>
          <button type="button" class="key key-3"><span>/</span></button>
          <button type="button" class="key key-3"><span>x</span></button>

          <button type="button" class="key key-1"><span>RESET</span></button>
          <button type="button" class="key key-2"><span>=</span></button>
        </div>
        <!-- calculator keypad ends here -->
      </div>
    </main>

    <!-- {{message}} -->
  </div>

  
  
  <script>
    

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      
      // save the user preference
      localStorage.setItem("theme", theme)
    }
  
    // document.querySelector('body').addEventListener("load", function () {
    //   console.log(1133);
    // });

    function checkUserTheme() {
      let savedTheme = localStorage.getItem("theme");

      if (savedTheme) {
        // if the user has visited the site and saved a theme
        document.documentElement.setAttribute('data-theme', savedTheme);
      } else{
        // if not check if the user is using light or dark mode in his browser
        const prefersDarkMode = window.matchMedia('(prefers-color-scheme : dark)').matches;
        if (prefersDarkMode) {
          setTheme('dark');
        } else {
          setTheme('light');
        }
      }
    }


    // const app = Vue.createApp({
    //   data() {
    //     return {
    //       message: "Hello World!"
    //     }
    //   }
    // })
  
    // app.mount('#app');

  
  </script>
</body>
</html>
